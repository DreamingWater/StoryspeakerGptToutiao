# StoryspeakerGptToutiao
本项目有两个用途，一是用于小说的爬取并小说文字转语音，很nice，二是利用GPT为今日头条的内容配图，很鸡肋。
## Storyspeaker
https://www.ibiquge.la是小说资源网，具有众多的小说资源，通过爬虫进行爬取，组合为一定的片段。然后利用ttsmaker网页白嫖其配音功能，如果文段较长，会分多次提交转换，然后合并到一个音频文件中。
ttsmaker这边是利用selenium进行网页处理，但是在网页处理的时候也存在一些小问题，主要在于验证码部分，该验证码的链接是单次访问有效，所以不能request图片后来处理，在本方案中利用canvas来操作图片，实现验证码图片的保存。在文字识别部分首先对单个图片进行分割，分为四张小图，然后分别识别，再整合到一起。在识别的时候使用Tesseract,但效果很不好，又尝试ddddocr，效果还行，但是依然会出错，后面又尝试百度在线ocr的api，但是这个识别效果相当拉跨，真的是服气。最终选择ddddocr，并对其中的一些易错结果进行纠正，可以用于页面验证码处理。

```
ttsmaker的文本转语音功能还是很强大，尤其是那个经典抖音男声————阿伟，简直是耳朵听出茧子咯。
```

## GptToutiao
这里主要是操作word和gpt3.5的问答功能。按照一定的格式将搜集到的头条文案放到word的固定位置，然后利用设定的问答来对文案进行分段，然后给每段匹配一张参考图，给出这张图片的介绍，用于midjourney生成图片。但是实际效果并不好，最终宣告失败。
